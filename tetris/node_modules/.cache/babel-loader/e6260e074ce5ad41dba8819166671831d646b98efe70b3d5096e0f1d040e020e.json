{"ast":null,"code":"export const STAGE_WIDTH = 10;\nexport const STAGE_HEIGHT = 20;\nexport const createStage = () => {\n  return Array.from(Array(STAGE_HEIGHT), () => new Array(STAGE_WIDTH).fill([0, 'clear']));\n};\nexport const checkCollision = (player, stage, _ref) => {\n  let {\n    x: moveX,\n    y: moveY\n  } = _ref;\n  for (let y = 0; y < player.tetromino.length; y++) {\n    for (let x = 0; x < player.tetromino[y].length; x++) {\n      console.log(typeof stage[y + player.pos.y + moveY]);\n      // 2중 체크 (보드안에서만, 다른 블록과의 충돌)\n\n      if (player.tetromino[y][x] !== 0) {\n        // const nextY = stage[y + player.pos.y + moveY]; //블록의 다음 y좌표가 undedefined 이면 이동 막기\n        // const nextX = stage[y + player.pos.y + moveY][x + player.pos.x + moveX];\n        // const collide = stage[y + player.pos.y + moveY][x + player.pos.x + moveX][1] !== 'clear';\n        const nextY = y + player.pos.y + moveY >= 20;\n        if (nextY) return true;\n      }\n    }\n  }\n};","map":{"version":3,"names":["STAGE_WIDTH","STAGE_HEIGHT","createStage","Array","from","fill","checkCollision","player","stage","_ref","x","moveX","y","moveY","tetromino","length","console","log","pos","nextY"],"sources":["/Users/Pajamas/Project/tetris/src/gameHelpers.js"],"sourcesContent":["export const STAGE_WIDTH = 10;\nexport const STAGE_HEIGHT = 20;\n\nexport const createStage = () => {\n    return Array.from(Array(STAGE_HEIGHT), () => new Array(STAGE_WIDTH).fill([0, 'clear']));\n}\n\nexport const checkCollision = (player, stage, { x: moveX, y: moveY}) => {\n    for(let y = 0; y < player.tetromino.length; y++) {\n        for(let x = 0; x < player.tetromino[y].length; x++) {\n            console.log( typeof stage[y + player.pos.y + moveY]);\n            // 2중 체크 (보드안에서만, 다른 블록과의 충돌)\n\n            if(player.tetromino[y][x] !== 0) {\n                \n                // const nextY = stage[y + player.pos.y + moveY]; //블록의 다음 y좌표가 undedefined 이면 이동 막기\n                // const nextX = stage[y + player.pos.y + moveY][x + player.pos.x + moveX];\n                // const collide = stage[y + player.pos.y + moveY][x + player.pos.x + moveX][1] !== 'clear';\n                const nextY = y + player.pos.y + moveY >= 20;\n\n                if(nextY) return true;\n            }\n        }\n    }\n}"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,EAAE;AAC7B,OAAO,MAAMC,YAAY,GAAG,EAAE;AAE9B,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC7B,OAAOC,KAAK,CAACC,IAAI,CAACD,KAAK,CAACF,YAAY,CAAC,EAAE,MAAM,IAAIE,KAAK,CAACH,WAAW,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;AAC3F,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGA,CAACC,MAAM,EAAEC,KAAK,EAAAC,IAAA,KAA4B;EAAA,IAA1B;IAAEC,CAAC,EAAEC,KAAK;IAAEC,CAAC,EAAEC;EAAK,CAAC,GAAAJ,IAAA;EAC/D,KAAI,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,MAAM,CAACO,SAAS,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;IAC7C,KAAI,IAAIF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACO,SAAS,CAACF,CAAC,CAAC,CAACG,MAAM,EAAEL,CAAC,EAAE,EAAE;MAChDM,OAAO,CAACC,GAAG,CAAE,OAAOT,KAAK,CAACI,CAAC,GAAGL,MAAM,CAACW,GAAG,CAACN,CAAC,GAAGC,KAAK,CAAC,CAAC;MACpD;;MAEA,IAAGN,MAAM,CAACO,SAAS,CAACF,CAAC,CAAC,CAACF,CAAC,CAAC,KAAK,CAAC,EAAE;QAE7B;QACA;QACA;QACA,MAAMS,KAAK,GAAGP,CAAC,GAAGL,MAAM,CAACW,GAAG,CAACN,CAAC,GAAGC,KAAK,IAAI,EAAE;QAE5C,IAAGM,KAAK,EAAE,OAAO,IAAI;MACzB;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}