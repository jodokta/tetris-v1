{"ast":null,"code":"import{useEffect,useRef}from\"react\";function useDragger(id){var coordinates=useRef({startX:0,startY:0,lastX:0,lastY:0});useEffect(function(){var target=document.getElementById(id);var container=target.parentElement;var onMouseDown=function onMouseDown(e){if(e.target.id==='moveTarget1'||e.target.id==='moveTarget2'){coordinates.current.startX=e.clientX;coordinates.current.startY=e.clientY;}else{return;}};var onMouseUp=function onMouseUp(e){coordinates.current.lastX=target.offsetLeft;coordinates.current.lastY=target.offsetTop;coordinates.current.startX=0;coordinates.current.startY=0;};var onMouseMove=function onMouseMove(e){if(coordinates.current.startX===0&&coordinates.current.startY===0)return;var nextX=e.clientX-coordinates.current.startX+coordinates.current.lastX;var nextY=e.clientY-coordinates.current.startY+coordinates.current.lastY;target.style.top=\"\".concat(nextY,\"px\");target.style.left=\"\".concat(nextX,\"px\");};target.addEventListener(\"mousedown\",onMouseDown);target.addEventListener(\"mouseup\",onMouseUp);container.addEventListener(\"mousemove\",onMouseMove);container.addEventListener(\"mouseleave\",onMouseUp);var cleanup=function cleanup(){target.removeEventListener(\"mousedown\",onMouseDown);target.removeEventListener(\"mouseup\",onMouseUp);container.removeEventListener(\"mousemove\",onMouseMove);container.removeEventListener(\"mouseleave\",onMouseUp);};return cleanup;},[]);return coordinates;}export default useDragger;","map":{"version":3,"names":["useEffect","useRef","useDragger","id","coordinates","startX","startY","lastX","lastY","target","document","getElementById","container","parentElement","onMouseDown","e","current","clientX","clientY","onMouseUp","offsetLeft","offsetTop","onMouseMove","nextX","nextY","style","top","concat","left","addEventListener","cleanup","removeEventListener"],"sources":["/Users/Pajamas/Project/tetris_pro/tetris/src/hooks/useDragger.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\n\nfunction useDragger(id) {\n  const coordinates = useRef({\n    startX: 0,\n    startY: 0,\n    lastX: 0,\n    lastY: 0,\n  });\n\n  useEffect(() => {\n    const target = document.getElementById(id);\n    const container = target.parentElement;\n      \n    const onMouseDown = (e) => {\n        if(e.target.id === 'moveTarget1' || e.target.id === 'moveTarget2') {\n          coordinates.current.startX = e.clientX;\n          coordinates.current.startY = e.clientY;\n        } else {\n          return;\n        }\n    };\n    \n    const onMouseUp = (e) => {\n      coordinates.current.lastX = target.offsetLeft;\n      coordinates.current.lastY = target.offsetTop;\n    \n      coordinates.current.startX = 0;\n      coordinates.current.startY = 0;\n    };\n      \n    const onMouseMove = (e) => {\n      if (coordinates.current.startX === 0 && coordinates.current.startY === 0) return;\n    \n      const nextX = e.clientX - coordinates.current.startX + coordinates.current.lastX;\n      const nextY = e.clientY - coordinates.current.startY + coordinates.current.lastY;\n    \n      target.style.top = `${nextY}px`;\n      target.style.left = `${nextX}px`;\n    };\n\n    target.addEventListener(\"mousedown\", onMouseDown);\n    target.addEventListener(\"mouseup\", onMouseUp);\n    container.addEventListener(\"mousemove\", onMouseMove);\n    container.addEventListener(\"mouseleave\", onMouseUp);\n\n    const cleanup = () => {\n      target.removeEventListener(\"mousedown\", onMouseDown);\n      target.removeEventListener(\"mouseup\", onMouseUp);\n      container.removeEventListener(\"mousemove\", onMouseMove);\n      container.removeEventListener(\"mouseleave\", onMouseUp);\n    };\n\n    return cleanup;\n  }, []);\n\n  return coordinates;\n}\n\nexport default useDragger;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}