{"ast":null,"code":"import _slicedToArray from\"/Users/Pajamas/Project/tetris_pro/tetris/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../../css/GameOver.css\";import{useEffect,useRef,useState}from\"react\";import{useDispatch}from\"react-redux\";import{setIsTetris}from\"../../store/IsTetris\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameOver=function GameOver(_ref){var score=_ref.score,restart=_ref.restart,setIsStart=_ref.setIsStart;//Dispath\nvar dispatch=useDispatch();var inputRef=useRef(null);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var postTrain=function postTrain(){axios.post('/api/data',{name:inputValue,score:score}).then(function(response){// 요청에 대한 응답 처리\nconsole.log('성공');console.log(response.data);}).catch(function(error){// 오류 처리\nconsole.log('에러!!!');console.error(error);});};useEffect(function(){if(inputRef.current){inputRef.current.focus();}},[]);var handleInputChange=function handleInputChange(e){setInputValue(e.target.value);};var onClickQuit=function onClickQuit(){dispatch(setIsTetris(false));};return/*#__PURE__*/_jsxs(\"div\",{className:\"gameover-modal\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Game Over\"}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,onChange:handleInputChange,value:inputValue,maxLength:\"9\",placeholder:\"Nickname\"}),/*#__PURE__*/_jsx(\"button\",{onClick:postTrain,children:\"submit\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"score : \",/*#__PURE__*/_jsx(\"span\",{children:score})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gameover-modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:restart,children:\"Play Again\"}),/*#__PURE__*/_jsx(\"button\",{onClick:setIsStart,children:\"Main Menu\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClickQuit,children:\"Quit\"})]})]});};export default GameOver;","map":{"version":3,"names":["useEffect","useRef","useState","useDispatch","setIsTetris","axios","jsx","_jsx","jsxs","_jsxs","GameOver","_ref","score","restart","setIsStart","dispatch","inputRef","_useState","_useState2","_slicedToArray","inputValue","setInputValue","postTrain","post","name","then","response","console","log","data","catch","error","current","focus","handleInputChange","e","target","value","onClickQuit","className","children","ref","onChange","maxLength","placeholder","onClick"],"sources":["/Users/Pajamas/Project/tetris_pro/tetris/src/components/Tetris/GameOver.js"],"sourcesContent":["import \"../../css/GameOver.css\"\n\nimport {useEffect, useRef, useState} from \"react\"\nimport { useDispatch } from \"react-redux\";\nimport { setIsTetris } from \"../../store/IsTetris\";\nimport axios from 'axios';\n\nconst GameOver = ({ score, restart, setIsStart }) => {\n    //Dispath\n    const dispatch = useDispatch();\n\n    const inputRef = useRef(null);\n    const [inputValue, setInputValue] = useState('');\n    const postTrain = () => {axios.post('/api/data', { name: inputValue, score: score })\n    .then(response => {\n        // 요청에 대한 응답 처리\n        console.log('성공');\n        console.log(response.data);\n    })\n    .catch(error => {\n        // 오류 처리\n        console.log('에러!!!');\n        console.error(error);\n    })}\n    \n    useEffect(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, []);\n    \n    const handleInputChange = (e) => {\n        setInputValue(e.target.value);\n    }\n    const onClickQuit = () => {\n        dispatch(setIsTetris(false));\n    }\n\n    return (\n      <div className=\"gameover-modal\">\n        <h1>Game Over</h1>\n        <input ref={inputRef} onChange={handleInputChange} value={inputValue} maxLength=\"9\" placeholder=\"Nickname\"/>\n        <button onClick={postTrain}>submit</button>\n        <span>\n          score : <span>{score}</span>\n        </span>\n        <div className=\"gameover-modal-buttons\">\n          <button onClick={restart}>Play Again</button>\n          <button onClick={setIsStart}>Main Menu</button>\n          <button onClick={onClickQuit}>Quit</button>\n        </div>\n      </div>\n    );\n  };\n\nexport default GameOver\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}